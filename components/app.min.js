// File: assets/js/app.js
function initSidebarToggler() {
  var setSidebarType = function () {
    var width = window.innerWidth > 0 ? window.innerWidth : this.screen.width;
    if (width < 1199) {
      $("#main-wrapper")
        .attr("data-sidebartype", "mini-sidebar")
        .addClass("mini-sidebar")
        .removeClass("show-sidebar");
    } else {
      $("#main-wrapper")
        .attr("data-sidebartype", "full")
        .removeClass("mini-sidebar")
        .removeClass("show-sidebar");
    }
  };

  $(window).off("resize").on("resize", setSidebarType).ready(setSidebarType);

  $(".sidebartoggler")
    .off("click")
    .on("click", function () {
      var width = window.innerWidth > 0 ? window.innerWidth : this.screen.width;

      if (width < 1199) {
        $("#main-wrapper").toggleClass("show-sidebar");
        return;
      }

      $("#main-wrapper").toggleClass("mini-sidebar");
      var isMini = $("#main-wrapper").hasClass("mini-sidebar");
      $(".sidebartoggler").prop("checked", isMini);
      $("#main-wrapper").attr(
        "data-sidebartype",
        isMini ? "mini-sidebar" : "full"
      );
    });
}

// Panggil saat dokumen siap
$(document).ready(initSidebarToggler);

// Ekspor fungsi untuk dipanggil ulang
window.initSidebarToggler = initSidebarToggler;
